name: Update Lead Contact Status

on:
  schedule:
    # Run every day at 5:00 AM UTC (adjust timezone as needed)
    - cron: '0 5 * * *'

  workflow_dispatch:
    # Allow manual triggering from GitHub UI

permissions:
  issues: write
  contents: read

jobs:
  update-leads:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Update lead contact status
        run: |
          chmod +x .github/scripts/update_lead_status.sh
          .github/scripts/update_lead_status.sh
        env:
          GH_TOKEN: ${{ secrets.GH_PAT }}

      - name: Summary
        run: |
          echo "âœ… Lead contact status updated successfully"
          echo "Check the logs above for details on which leads need follow-up"
